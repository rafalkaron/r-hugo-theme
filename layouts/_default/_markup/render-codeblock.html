{{ $class := .Attributes.class | default "codeblock" }}
{{ $lang  := .Attributes.lang  | default .Type }}

{{ if transform.CanHighlight $lang }}
  <div class="{{ $class }}">
    <div class="code-lg-container"><span class="code-lg not-selectable">{{ $lang }}</span></div>
    {{ highlight .Inner $lang }}
  </div>
{{else}}
  <pre class="{{ $class }}"><code>{{.Inner}}</code></pre>
{{end}}